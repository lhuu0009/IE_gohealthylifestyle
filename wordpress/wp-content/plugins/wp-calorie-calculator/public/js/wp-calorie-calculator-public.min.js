"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var i,o=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,i)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var CustomSelect=function(s){var i={block:"custom-select",hideCallback:!1,includeValue:!1,keyboard:!0,modifier:!1,placeholder:!1,search:!1,showCallback:!1,transition:0},e=function(){function o(e,t){_classCallCheck(this,o),this._$select=s(e),this._options=_objectSpread(_objectSpread({},i),"object"===_typeof(t)?t:{}),this._activeModifier="".concat(this._options.block,"--active"),this._dropupModifier="".concat(this._options.block,"--dropup"),this._optionSelectedModifier="".concat(this._options.block,"__option--selected"),this._keydown=this._keydown.bind(this),this._dropup=this._dropup.bind(this),this._outside=this._outside.bind(this),this._init()}return _createClass(o,[{key:"reset",value:function(){this._$dropdown.hide().empty(),this._$value.off("click"),this._fill()}},{key:"_init",value:function(){this._$element=s('<div class="'.concat(this._options.block,'">\n           <button class="').concat(this._options.block,"__option ").concat(this._options.block,'__option--value" type="button"></button>\n           <div class="').concat(this._options.block,'__dropdown" style="display: none;"></div>\n         </div>')),this._$select.hide().after(this._$element),this._options.modifier&&this._$element.addClass(this._options.modifier),this._$value=this._$element.find(".".concat(this._options.block,"__option--value")),this._$dropdown=this._$element.find(".".concat(this._options.block,"__dropdown")),this._fill()}},{key:"_fill",value:function(){var c=this;this._$values=this._$select.find("option"),this._values=[];var a=this._options.placeholder;s.each(this._$values,function(e,t){t=s(t).text().trim();c._values.push(t)}),a&&(this._$select.find("[selected]").length?a=!1:(this._$value.html(a),this._$select.prop("selectedIndex",-1))),s.each(this._values,function(e,t){var i=c._$values.eq(e).attr("class"),o=s('<button class="'.concat(c._options.block,'__option" type="button">').concat(t,"</button>")),n=c._$select.find(":selected");c._$values.eq(e).attr("disabled")&&o.prop("disabled",!0),!n.length&&0===e||t===n.text().trim()?(a||c._$value.text(t).removeClass(c._$value.data("class")).removeData("class").addClass(i).data("class",i),(c._options.includeValue||a)&&(o.addClass(i),o.toggleClass(c._optionSelectedModifier,c._$values.eq(e).is("[selected]")),c._$dropdown.append(o))):(o.addClass(i),c._$dropdown.append(o))}),this._$options=this._$dropdown.find(".".concat(this._options.block,"__option")),this._options.search&&this._search(),this._$value.one("click",function(e){c._show(e)}),this._$value.prop("disabled",!this._$options.length),this._$options.on("click",function(e){c._select(e)})}},{key:"_show",value:function(e){var t=this;e.preventDefault(),this._dropup(),s(window).on("resize scroll",this._dropup),this._$element.addClass(this._activeModifier),this._$dropdown.slideDown(this._options.transition,function(){t._options.search&&(t._$input.focus(),t._options.includeValue&&t._scroll()),"function"==typeof t._options.showCallback&&t._options.showCallback.call(t._$element[0])}),setTimeout(function(){s(document).on("touchstart click",t._outside)},0),this._$value.one("click",function(e){e.preventDefault(),t._hide()}),this._options.keyboard&&(this._options.index=-1,s(window).on("keydown",this._keydown))}},{key:"_hide",value:function(){var t=this;this._options.search&&(this._$input.val("").blur(),this._$options.show(),this._$wrap.scrollTop(0)),this._$dropdown.slideUp(this._options.transition,function(){t._$element.removeClass(t._activeModifier).removeClass(t._dropupModifier),"function"==typeof t._options.hideCallback&&t._options.hideCallback.call(t._$element[0]),t._$value.off("click").one("click",function(e){t._show(e)}),s(document).off("touchstart click",t._outside),s(window).off("resize scroll",t._dropup)}),this._options.keyboard&&(this._$options.blur(),s(window).off("keydown",this._keydown))}},{key:"_scroll",value:function(){var o=this;s.each(this._$options,function(e,t){var i=s(t);if(i.text()===o._$value.text()){t=i.position().top,i=o._$wrap.outerHeight()/2-i.outerHeight()/2;return i<t&&o._$wrap.scrollTop(t-i),!1}})}},{key:"_select",value:function(e){var o=this;e.preventDefault();var t,n=s(e.currentTarget).text().trim(),c=_toConsumableArray(this._values);this._$value.text(n).removeClass(this._$value.data("class")),this._$values.prop("selected",!1),s.each(c,function(e,t){o._options.includeValue||t!==n||c.splice(e,1),s.each(o._$values,function(e,t){var i=s(t);i.text().trim()===n&&(t=i.attr("class"),i.prop("selected",!0),o._$value.addClass(t).data("class",t))})}),this._hide(),this._options.includeValue?(this._$options.removeClass(this._optionSelectedModifier),s.each(this._$options,function(e,t){t=s(t);if(t.text().trim()===n)return t.addClass(o._optionSelectedModifier),!1})):(this._$options.length>c.length&&((t=this._$options.eq(c.length)).remove(),this._$options=this._$options.not(t),this._$options.length||this._$value.prop("disabled",!0)),s.each(this._$options,function(t,e){var i=s(e);i.text(c[t]),i.attr("class","".concat(o._options.block,"__option")),s.each(o._$values,function(){var e=s(this);e.text().trim()===c[t]&&(i.addClass(e.attr("class")),i.prop("disabled",e.prop("disabled")))})})),void 0!==e.originalEvent&&this._$select.trigger("change")}},{key:"_search",value:function(){var e=this;this._$input=s('<input class="'.concat(this._options.block,'__input" autocomplete="off">')),this._$dropdown.prepend(this._$input),this._$options.wrapAll('<div class="'.concat(this._options.block,'__option-wrap"></div>')),this._$wrap=this._$element.find(".".concat(this._options.block,"__option-wrap")),this._$input.on("focus",function(){e._options.index=-1}),this._$input.on("keyup",function(){var o=e._$input.val().trim();o.length?(e._$wrap.scrollTop(0),setTimeout(function(){o===e._$input.val().trim()&&s.each(e._$options,function(e,t){var i=s(t),t=-1!==i.text().trim().toLowerCase().indexOf(o.toLowerCase());i.toggle(t)})},300)):e._$options.show()})}},{key:"_dropup",value:function(){var e=this._$element[0].getBoundingClientRect().bottom,e=s(window).height()-e<this._$dropdown.height();this._$element.toggleClass(this._dropupModifier,e)}},{key:"_outside",value:function(e){e=s(e.target);e.parents().is(this._$element)||e.is(this._$element)||this._hide()}},{key:"_keydown",value:function(e){var t,i=this._$options.filter(":visible").not("[disabled]");switch(e.which){case 40:e.preventDefault(),i.eq(this._options.index+1).length?this._options.index+=1:this._options.index=0,i.eq(this._options.index).focus();break;case 38:e.preventDefault(),i.eq(this._options.index-1).length&&0<=this._options.index-1?--this._options.index:this._options.index=i.length-1,i.eq(this._options.index).focus();break;case 13:case 32:this._$input&&this._$input.is(":focus")||(e.preventDefault(),(t=this._$options.add(this._$value).filter(":focus")).trigger("click"),t.is(this._$value)||this._$select.trigger("change"),this._$value.focus());break;case 27:e.preventDefault(),this._hide(),this._$value.focus()}}}],[{key:"_jQueryPlugin",value:function(i){return this.each(function(){var e=s(this),t=e.data("custom-select");t?"reset"===i&&t.reset():"string"!=typeof i&&(t=new o(this,i),e.data("custom-select",t))})}}]),o}();return s.fn.customSelect=e._jQueryPlugin,s.fn.customSelect.noConflict=function(){return s.fn.customSelect},e}(jQuery);!function(){var f=window.jQuery;f(document).ready(function(){var h=.45359237,d=30.48,_=2.54,e=f(".wp-calorie-calculator").data("primary-color"),t=f(".wp-calorie-calculator").data("secondary-color");function o(){var e=f(".wp-calorie-calculator-result-count"),t=n();e.get(0)&&t&&0<t&&jQuery({Counter:0}).animate({Counter:t},{duration:1e3,easing:"swing",step:function(){e.text(Math.ceil(this.Counter))}})}function n(){var e,t=f("[name=wpcc-metric-system]").is(":checked"),i=f("[name=wpcc-gender]").val(),o=+f("[name=wpcc-age]").val(),n=+f("[name=wpcc-height]").val(),c=+f("[name=wpcc-height-2]").val(),a=+f("[name=wpcc-weight]").val(),s=f("[name=wpcc-activity]:checked").val(),r=f("[name=wpcc-goal]").val(),l=0,p=0,u=0;switch(t||(a*=h,n=n*d+c*_),l="male"==i?5:-161,s){case"Sedentary":p=1.2;break;case"Light":p=1.375;break;case"Moderate":p=1.465;break;case"Active":p=1.55;break;case"Very Active":p=1.725;break;case"Extra Active":p=1.9}switch(r){case"Maintain Weight":u=1;break;case"Weight Loss":u=.79;break;case"Extreme Weight Loss":u=.59;break;case"Weight Gain":u=1.21;break;case"Fast Weight Gain":u=1.41}return e=(10*a+6.25*n-5*o+l)*p*u,Math.round(e)||0}function c(e){var n=[],c=f("[name=wpcc-metric-system]").is(":checked");!e||"wpcc-age"!=e.name&&"wpcc-height"!=e.name&&"wpcc-weight"!=e.name?(n.push(document.getElementById("wpcc-age")),n.push(document.getElementById("wpcc-height")),n.push(document.getElementById("wpcc-weight"))):n.push(e);for(var a=0;a<n.length;a++)(function(){if(""==n[a].value)return;var e=n[a],t=+e.value,i=0,o=0;"wpcc-age"==e.name?(i=1,o=150):"wpcc-height"==e.name?(i=1,o=300,c||(i=1,o=9)):"wpcc-weight"==e.name&&(i=1,o=300,c||(i=1,o=661)),i&&o&&(t<i?(f(e).addClass("wpcc-wrong"),setTimeout(function(){e.value=i,f(e).removeClass("wpcc-wrong")},1e3)):o<t&&(f(e).addClass("wpcc-wrong"),setTimeout(function(){e.value=o,f(e).removeClass("wpcc-wrong")},1e3)))})()}document.documentElement.style.setProperty("--wpcc-primary-color",e),document.documentElement.style.setProperty("--wpcc-secondary-color",t),f(".wpcc-select").customSelect({block:"wp-calorie-calculator-select",includeValue:!0,placeholder:" "}),f(".wpcc-switch-option").click(function(){var e=f(this).data("position"),t=f(this).parent().find("input");"left"==e?t.prop("checked",!1):t.prop("checked",!0),t.trigger("change")}),f("[name=wpcc-metric-system]").change(function(){var e,t,i;this.checked?(f("[name=wpcc-height-2]").parent().hide(),f("[name=wpcc-height] + .wpcc-input-unit").text("cm"),f("[name=wpcc-weight] + .wpcc-input-unit").text("kg")):(f("[name=wpcc-height-2]").parent().show(),f("[name=wpcc-height] + .wpcc-input-unit").text("ft"),f("[name=wpcc-weight] + .wpcc-input-unit").text("lbs")),(e=this.checked)?((t=+f("[name=wpcc-weight]").val())&&f("[name=wpcc-weight]").val(Math.round(t*h)),i=+f("[name=wpcc-height]").val(),e=+f("[name=wpcc-height-2]").val(),(i||e)&&(e=i*d+e*_,f("[name=wpcc-height]").val(Math.round(e)))):((t=+f("[name=wpcc-weight]").val())&&f("[name=wpcc-weight]").val(Math.round(t/h)),(i=+f("[name=wpcc-height]").val())&&(t=Math.floor(i/d),i=((i-t*d)/_).toFixed(1),f("[name=wpcc-height]").val(t),f("[name=wpcc-height-2]").val(i))),c(),o()}),f(".wp-calorie-calculator input[type=number]").on("change",function(){c(this)}),f(".wp-calorie-calculator input").on("input propertychange",function(){o()}),f(".wp-calorie-calculator select").on("change",function(){o()}),f(".wp-calorie-calculator-result-form").submit(function(e){e.preventDefault();var t=f(this),i=f(".wp-calorie-calculator-result-notice"),e={metric_system:f("[name=wpcc-metric-system]").is(":checked"),gender:f("[name=wpcc-gender]").val(),age:+f("[name=wpcc-age]").val(),height:+f("[name=wpcc-height]").val(),height2:+f("[name=wpcc-height-2]").val(),weight:+f("[name=wpcc-weight]").val(),activity:f("[name=wpcc-activity]:checked").val(),goal:f("[name=wpcc-goal]").val()},e={action:"wpcc_send_result",user_email:f(".wp-calorie-calculator-result-form-email").val(),result:n(),fields:e,notification_email:t.data("notification-email")};e.result?(t.find("button").addClass("wpcc-loading"),f.post(t.attr("action"),e,function(e){t.find("button").removeClass("wpcc-loading"),(e=JSON.parse(e)).user_email_sent?(i.text(window.wpCalorieCalculatorI18n.emailSendSuccess),i.removeClass("wpcc-error").addClass("wpcc-success")):(i.text(window.wpCalorieCalculatorI18n.emailSendFail),i.removeClass("wpcc-success").addClass("wpcc-error"))})):(i.text(window.wpCalorieCalculatorI18n.emptyFields),i.removeClass("wpcc-success").addClass("wpcc-error"))})})}();